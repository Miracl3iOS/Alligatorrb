<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>PROSTIK Ufa</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800;900&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#1A1411;

  --text:#E6E6E6;
  --muted:#9CA3AF;
  --heading:#F5F5F5;

  --goldA:#D4AF37;
  --goldB:#C9A24D;
  --goldC:#F4E7B7;
  --goldD:#B8933E;
  --goldText:#0F1115;

  /* –º–µ–Ω—å—à–µ —Ç–µ–Ω–µ–π */
  --shadow:0 10px 22px rgba(0,0,0,.35);
}

*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  font-family:Poppins,system-ui,-apple-system,"Segoe UI",Roboto,Arial;
  background:var(--bg);
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  overflow-x:hidden;
}
a,button{font:inherit;color:inherit;-webkit-tap-highlight-color:transparent}
button{border:0;background:none;cursor:pointer}
a{text-decoration:none}

/* ===== SMART LOADER (—É–º–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞) ===== */
.loader{
  position:fixed;
  inset:0;
  z-index:3000;
  display:flex;
  align-items:center;
  justify-content:center;
  background:var(--bg);
  transition:opacity .45s ease, visibility .45s ease;
}
.loader.hidden{
  opacity:0;
  visibility:hidden;
  pointer-events:none;
}
.loaderInner{
  width:min(360px,86vw);
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:14px;
  text-align:center;
}
.loaderTitle{
  font-weight:900;
  letter-spacing:1px;
  font-size:18px;
  color:transparent;
  background:linear-gradient(90deg,#fff6cf,var(--goldA),#f2e8c4,var(--goldB),#fff6cf);
  background-size:220% auto;
  -webkit-background-clip:text;
  background-clip:text;
  animation:goldFlow 10s linear infinite;
}
.loaderSub{
  color:var(--muted);
  font-size:12px;
  line-height:1.4;
}
.loaderBar{
  width:100%;
  height:10px;
  border-radius:999px;
  background:rgba(255,255,255,.06);
  overflow:hidden;
  box-shadow:var(--shadow);
}
.loaderFill{
  height:100%;
  width:35%;
  border-radius:999px;
  background:
    linear-gradient(180deg,rgba(255,255,255,.32),rgba(255,255,255,0) 36%),
    linear-gradient(120deg,#8b6a1f,var(--goldD),var(--goldA),var(--goldC),var(--goldB),var(--goldA),#8b6a1f);
  animation:loadMove 1.15s ease-in-out infinite;
}
@keyframes loadMove{
  0%{transform:translateX(-60%)}
  50%{transform:translateX(120%)}
  100%{transform:translateX(-60%)}
}

/* ---------- HERO VIDEO ---------- */
.hero{
  position:relative;
  width:100%;
  height:min(56vh,520px);
  min-height:320px;
  overflow:hidden;
  background:#000; /* –µ—Å–ª–∏ –ø–æ—Å—Ç–µ—Ä –Ω–µ –ø–æ–¥–≥—Ä—É–∑–∏–ª—Å—è */
}
.heroVideo{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  object-position:center;
  pointer-events:none; /* –∫–ª–∏–∫–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç */
}
.hero::after{
  content:"";
  position:absolute;
  inset:0;
  background:linear-gradient(180deg,rgba(0,0,0,.25),rgba(0,0,0,.6));
  pointer-events:none;
}

/* MENU BUTTON */
.menuBtn{
  position:absolute;
  top:14px;
  right:14px;
  width:46px;
  height:46px;
  border-radius:14px;
  display:grid;
  place-items:center;
  background:rgba(26,20,17,.6);
  backdrop-filter:blur(10px);
  box-shadow:var(--shadow);
  z-index:5;
}
.menuBtn svg{width:22px;height:22px;color:var(--goldC)}
.menuBtn:active{transform:scale(.96)}

/* ---------- CONTENT ---------- */
.wrap{
  width:min(430px,100%);
  margin:0 auto;
  padding:18px 16px 28px;
}

.h1{
  text-align:center;
  font-size:clamp(30px,7vw,44px);
  font-weight:900;
  letter-spacing:1.2px;
  color:transparent;
  background:linear-gradient(90deg,#fff6cf,var(--goldA),#f2e8c4,var(--goldB),#fff6cf);
  background-size:220% auto;
  -webkit-background-clip:text;
  background-clip:text;
  animation:goldFlow 10s linear infinite;
}
@keyframes goldFlow{to{background-position:220% 50%}}

.lead{
  margin-top:10px;
  text-align:center;
  color:var(--muted);
  font-size:13px;
  line-height:1.45;
}

/* ---------- WORK BANNER ---------- */
.workBanner{
  position:relative;
  margin-top:18px;
  height:120px;
  border-radius:22px;
  overflow:hidden;
  box-shadow:var(--shadow);
  background:#000;
  display:block;
}
.workVideo{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  object-position:center;
  pointer-events:none;
}
.workBanner::after{
  content:"";
  position:absolute;
  inset:0;
  background:linear-gradient(180deg,rgba(0,0,0,.25),rgba(0,0,0,.65));
  pointer-events:none;
}
.workTitle{
  position:absolute;
  inset:0;
  display:grid;
  place-items:center;
  font-size:26px;
  font-weight:900;
  letter-spacing:1px;
  color:transparent;
  background:linear-gradient(90deg,#fff6cf,var(--goldA),#f2e8c4,var(--goldB),#fff6cf);
  background-size:220% auto;
  -webkit-background-clip:text;
  background-clip:text;
  animation:goldFlow 10s linear infinite;
  text-shadow:0 12px 26px rgba(0,0,0,.45);
}

/* ---------- METAL BUTTONS ---------- */
.grid{
  margin-top:18px;
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:12px;
}

.metalBtn{
  position:relative;
  height:58px;
  border-radius:18px;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  font-weight:900;
  letter-spacing:.6px;
  color:var(--goldText);
  background:
    linear-gradient(180deg,rgba(255,255,255,.32),rgba(255,255,255,0) 36%),
    linear-gradient(120deg,#8b6a1f,var(--goldD),var(--goldA),var(--goldC),var(--goldB),var(--goldA),#8b6a1f);
  box-shadow:var(--shadow);
  overflow:hidden;
  user-select:none;
}
.metalBtn::after{
  content:"";
  position:absolute;
  inset:-60%;
  background:linear-gradient(115deg,transparent 40%,rgba(255,255,255,.45) 50%,transparent 60%);
  transform:translateX(-50%) rotate(12deg);
  animation:shimmer 3s linear infinite;
  mix-blend-mode:screen;
  pointer-events:none;
}
@keyframes shimmer{to{transform:translateX(50%) rotate(12deg)}}
.metalBtn:active{transform:translateY(1px) scale(.98); filter:brightness(.96)}
.metalBtn svg{
  width:20px;height:20px;
  flex:0 0 auto;
  color:rgba(15,17,21,.86);
}

/* ---------- MENU SHEET ---------- */
.sheetWrap{
  position:fixed;
  inset:0;
  display:none;
  z-index:1000;
}
.sheetWrap.active{display:block}
.sheetShade{
  position:absolute;
  inset:0;
  background:rgba(0,0,0,.55);
}
.sheet{
  position:absolute;
  right:0;
  top:0;
  height:100%;
  width:min(86vw,340px);
  background:rgba(18,14,12,.95);
  padding:18px;
  transform:translateX(100%);
  transition:transform .22s ease-out;
}
.sheetWrap.active .sheet{transform:none}
.sheet h2{color:var(--heading);font-weight:900;margin:8px 0 14px}
.sheet a{
  display:block;
  padding:14px;
  border-radius:16px;
  background:rgba(255,255,255,.04);
  margin-bottom:12px;
  box-shadow:var(--shadow);
}

.foot{
  margin-top:18px;
  text-align:center;
  font-size:12px;
  color:rgba(156,163,175,.9);
}
.foot a{
  color:rgba(230,230,230,.9);
  font-weight:900;
  text-decoration:none;
  border-bottom:1px dashed rgba(201,162,77,.55);
}

/* –ª—ë–≥–∫–∏–π hover —Ç–æ–ª—å–∫–æ –Ω–∞ –ü–ö */
@media (hover:hover){
  .metalBtn:hover{filter:brightness(.98)}
  .workBanner:hover{transform:translateY(-1px)}
}

/* –µ—Å–ª–∏ —á–µ–ª–æ–≤–µ–∫ –æ—Ç–∫–ª—é—á–∏–ª –∞–Ω–∏–º–∞—Ü–∏–∏ */
@media (prefers-reduced-motion: reduce){
  .metalBtn::after, .loaderFill, .h1, .workTitle, .loaderTitle{animation:none !important}
}
</style>
</head>

<body>

<!-- SMART LOADER -->
<div class="loader" id="loader" aria-live="polite">
  <div class="loaderInner">
    <div class="loaderTitle">Loading‚Ä¶</div>
    <div class="loaderSub">–æ–∂–∏–¥–∞–π—Ç–µ –ø–æ–∂–∞–ª—É–π—Å—Ç–∞ 5 —Å–µ–∫—É–Ω–¥</div>
    <div class="loaderBar"><div class="loaderFill"></div></div>
  </div>
</div>

<!-- HERO -->
<section class="hero">
  <video
    class="heroVideo"
    id="heroVideo"
    autoplay
    loop
    muted
    playsinline
    preload="auto"
    poster="hero.jpg"
    disablepictureinpicture
    controlslist="nodownload noplaybackrate noremoteplayback"
  >
    <source src="hero.mp4" type="video/mp4">
  </video>

  <button class="menuBtn" id="openMenu" aria-label="–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M4 6h16M4 12h16M4 18h16"/>
    </svg>
  </button>
</section>

<main class="wrap">
  <div class="h1">PROSTIK UFA</div>
  <div class="lead">–ü–æ–ª—É—á–∏—Ç—å –∫–∞–π—Ñ –∑–¥–µ—Å—å –ø–∏–∑–¥–µ—Ü –∫–∞–∫ Prosto</div>

  <!-- WORK -->
  <a class="workBanner" href="work.html" aria-label="–†–∞–±–æ—Ç–∞">
    <video
      class="workVideo"
      id="workVideo"
      autoplay
      loop
      muted
      playsinline
      preload="auto"
      poster="work.jpg"
      disablepictureinpicture
      controlslist="nodownload noplaybackrate noremoteplayback"
    >
      <source src="work.mp4" type="video/mp4">
    </video>
    <div class="workTitle">–†–ê–ë–û–¢–ê</div>
  </a>

  <!-- BUTTONS -->
  <section class="grid" aria-label="–ö–Ω–æ–ø–∫–∏">
    <!-- Telegram icon svg (same for all) -->
    <a class="metalBtn" href="https://t.me/yourchannel" aria-label="–ö–∞–Ω–∞–ª –∏ —á–∞—Ç">
      <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
        <path d="M22 4.5c.1-.7-.6-1.1-1.2-.8L2.9 10.7c-.8.3-.8 1.3.1 1.6l4.6 1.5 1.8 5.7c.2.7 1.1.9 1.6.4l2.6-2.5 5 3.7c.6.4 1.4.1 1.5-.7L22 4.5ZM8.9 13.2l9.3-5.8c.4-.2.8.3.4.6l-7.7 7.2-.3 3.4-1.7-5.3Z"/>
      </svg>
      –ö–ê–ù–ê–õ –ò –ß–ê–¢
    </a>

    <a class="metalBtn" href="https://t.me/yourchannel" aria-label="–°–æ–∑–¥–∞—Ç—å –±–æ—Ç">
      <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
        <path d="M22 4.5c.1-.7-.6-1.1-1.2-.8L2.9 10.7c-.8.3-.8 1.3.1 1.6l4.6 1.5 1.8 5.7c.2.7 1.1.9 1.6.4l2.6-2.5 5 3.7c.6.4 1.4.1 1.5-.7L22 4.5ZM8.9 13.2l9.3-5.8c.4-.2.8.3.4.6l-7.7 7.2-.3 3.4-1.7-5.3Z"/>
      </svg>
      –°–û–ó–î–ê–¢–¨ –ë–û–¢
    </a>

    <a class="metalBtn" href="https://t.me/yourchannel" aria-label="–ë–æ—Ç –ø—Ä–æ–¥–∞–∂">
      <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
        <path d="M22 4.5c.1-.7-.6-1.1-1.2-.8L2.9 10.7c-.8.3-.8 1.3.1 1.6l4.6 1.5 1.8 5.7c.2.7 1.1.9 1.6.4l2.6-2.5 5 3.7c.6.4 1.4.1 1.5-.7L22 4.5ZM8.9 13.2l9.3-5.8c.4-.2.8.3.4.6l-7.7 7.2-.3 3.4-1.7-5.3Z"/>
      </svg>
      –ë–û–¢ –ü–†–û–î–ê–ñ
    </a>

    <a class="metalBtn" href="https://t.me/yourchannel" aria-label="–ò–Ω—Ñ–æ –±–æ—Ç">
      <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
        <path d="M22 4.5c.1-.7-.6-1.1-1.2-.8L2.9 10.7c-.8.3-.8 1.3.1 1.6l4.6 1.5 1.8 5.7c.2.7 1.1.9 1.6.4l2.6-2.5 5 3.7c.6.4 1.4.1 1.5-.7L22 4.5ZM8.9 13.2l9.3-5.8c.4-.2.8.3.4.6l-7.7 7.2-.3 3.4-1.7-5.3Z"/>
      </svg>
      –ò–ù–§–û –ë–û–¢
    </a>

    <a class="metalBtn" href="https://t.me/yourchannel" aria-label="–°–∞–ø–ø–æ—Ä—Ç">
      <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
        <path d="M22 4.5c.1-.7-.6-1.1-1.2-.8L2.9 10.7c-.8.3-.8 1.3.1 1.6l4.6 1.5 1.8 5.7c.2.7 1.1.9 1.6.4l2.6-2.5 5 3.7c.6.4 1.4.1 1.5-.7L22 4.5ZM8.9 13.2l9.3-5.8c.4-.2.8.3.4.6l-7.7 7.2-.3 3.4-1.7-5.3Z"/>
      </svg>
      –°–ê–ü–ü–û–†–¢
    </a>

    <a class="metalBtn" href="work.html" aria-label="–†–∞–±–æ—Ç–∞">
      <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
        <path d="M22 4.5c.1-.7-.6-1.1-1.2-.8L2.9 10.7c-.8.3-.8 1.3.1 1.6l4.6 1.5 1.8 5.7c.2.7 1.1.9 1.6.4l2.6-2.5 5 3.7c.6.4 1.4.1 1.5-.7L22 4.5ZM8.9 13.2l9.3-5.8c.4-.2.8.3.4.6l-7.7 7.2-.3 3.4-1.7-5.3Z"/>
      </svg>
      –†–ê–ë–û–¢–ê
    </a>
  </section>

  <!-- CALCULATOR BANNER -->
  <a class="workBanner" href="calc.html" aria-label="–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä">
    <video
      class="workVideo"
      id="calcVideo"
      autoplay
      loop
      muted
      playsinline
      preload="auto"
      poster="calc.jpg"
      disablepictureinpicture
      controlslist="nodownload noplaybackrate noremoteplayback"
    >
      <source src="calc.mp4" type="video/mp4">
    </video>
    <div class="workTitle">–ö–ê–õ–¨–ö–£–õ–Ø–¢–û–†</div>
  </a>

  <footer class="foot">
    –°–¥–µ–ª–∞–Ω–æ ‚Äî üñ§ <a href="#">663 design</a>
  </footer>
</main>

<!-- MENU -->
<div class="sheetWrap" id="sheet">
  <div class="sheetShade" id="closeSheet"></div>
  <aside class="sheet" role="dialog" aria-label="–ú–µ–Ω—é">
    <h2>–ú–µ–Ω—é</h2>
    <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
    <a href="calc.html">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</a>
    <a href="work.html">–í–∞–∫–∞–Ω—Å–∏–∏</a>
  </aside>
</div>

<script>
/* ===== MENU ===== */
const sheet = document.getElementById('sheet');
document.getElementById('openMenu').onclick = () => sheet.classList.add('active');
document.getElementById('closeSheet').onclick = () => sheet.classList.remove('active');
window.addEventListener('keydown', (e) => { if(e.key === 'Escape') sheet.classList.remove('active'); });

/* ===== VIDEO AUTOPLAY HARDENING (iOS/Android/PC) ===== */
const vids = [
  document.getElementById('heroVideo'),
  document.getElementById('workVideo'),
  document.getElementById('calcVideo')
].filter(Boolean);

function tryPlay(v){
  if(!v) return;
  v.muted = true;
  v.playsInline = true;
  const p = v.play();
  if(p && typeof p.catch === 'function') p.catch(()=>{});
}
function kickAll(){ vids.forEach(tryPlay); }
kickAll();
window.addEventListener('load', kickAll);
['touchstart','pointerdown','click','scroll'].forEach(evt=>{
  window.addEventListener(evt, kickAll, { once:true, passive:true });
});
document.addEventListener('visibilitychange', ()=>{ if(!document.hidden) kickAll(); });
vids.forEach(v=>{
  v.addEventListener('pause', ()=>{ if(!document.hidden) tryPlay(v); });
});

/* ===== SMART LOADER LOGIC (3‚Äì5 —Å–µ–∫—É–Ω–¥ "–ø–æ-—É–º–Ω–æ–º—É") =====
   - –º–∏–Ω–∏–º—É–º 3.2—Å
   - —Å–∫—Ä—ã—Ç—å —Ä–∞–Ω—å—à–µ –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –≤–∏–¥–µ–æ/–ø–æ—Å—Ç–µ—Ä—ã –≥–æ—Ç–æ–≤—ã (–µ—Å—Ç—å –∫–∞–¥—Ä)
   - –º–∞–∫—Å–∏–º—É–º 5.0—Å, —á—Ç–æ–±—ã –Ω–µ –∑–∞–≤–∏—Å–Ω—É—Ç—å –Ω–∞ –ø–ª–æ—Ö–æ–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ
*/
const loader = document.getElementById('loader');
const MIN_MS = 3200;
const MAX_MS = 5000;

let minDone = false;
let mediaDone = false;
let forced = false;

function hideLoader(){
  if(!loader || loader.classList.contains('hidden')) return;
  loader.classList.add('hidden');
  // –Ω–∞ –≤—Å—è–∫–∏–π: –ø–æ—Å–ª–µ —Å–∫—Ä—ã—Ç–∏—è –µ—â—ë —Ä–∞–∑ –ø–æ–ø—Ä–æ–±—É–µ–º —Å—Ç–∞—Ä—Ç–∞–Ω—É—Ç—å –≤–∏–¥–µ–æ
  kickAll();
}

function maybeFinish(){
  if(forced) return;
  if(minDone && mediaDone) hideLoader();
}

function waitVideoFirstFrame(v){
  return new Promise(resolve=>{
    if(!v) return resolve();
    // HAVE_CURRENT_DATA (2) = –∫–∞–¥—Ä –¥–æ—Å—Ç—É–ø–µ–Ω
    if(v.readyState >= 2) return resolve();
    const done = ()=>resolve();
    v.addEventListener('loadeddata', done, {once:true});
    v.addEventListener('canplay', done, {once:true});
    v.addEventListener('error', done, {once:true}); // –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ–º—Å—è –Ω–∞ –æ—à–∏–±–∫–µ
  });
}

function waitImage(url){
  return new Promise(resolve=>{
    if(!url) return resolve();
    const img = new Image();
    const done = ()=>resolve();
    img.onload = done;
    img.onerror = done;
    // –ª—ë–≥–∫–∏–π –∞–Ω—Ç–∏-–∫—ç—à –µ—Å–ª–∏ –Ω–∞–¥–æ: –º–æ–∂–Ω–æ —É–±—Ä–∞—Ç—å ?v=
    img.src = url;
  });
}

async function smartLoad(){
  // –∂–¥—ë–º –º–µ–¥–∏–∞: –ø–æ—Å—Ç–µ—Ä—ã + –ø–µ—Ä–≤—ã–π –∫–∞–¥—Ä –≤–∏–¥–µ–æ
  const posters = vids.map(v => v.getAttribute('poster')).filter(Boolean);
  const mediaPromises = [
    ...posters.map(waitImage),
    ...vids.map(waitVideoFirstFrame),
  ];

  const mediaAll = Promise.all(mediaPromises).then(()=>{ mediaDone = true; maybeFinish(); });

  setTimeout(()=>{ minDone = true; maybeFinish(); }, MIN_MS);

  setTimeout(()=>{
    forced = true;
    hideLoader();
  }, MAX_MS);

  // –µ—Å–ª–∏ –≤—Å—ë —Å—É–ø–µ—Ä –±—ã—Å—Ç—Ä–æ ‚Äî –≤—Å—ë —Ä–∞–≤–Ω–æ –¥–µ—Ä–∂–∏–º –º–∏–Ω–∏–º—É–º
  mediaAll.catch(()=>{ mediaDone = true; maybeFinish(); });
}

// —Å—Ç–∞—Ä—Ç—É–µ–º —Å—Ä–∞–∑—É (–Ω–µ –∂–¥—ë–º load)
smartLoad();
</script>

</body>
</html>
